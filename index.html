<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Heyyy ðŸ‘€</title>

<style>
* {box-sizing:border-box; margin:0; padding:0; font-family: 'Segoe UI', sans-serif;}
body, html {height:100%; width:100%; overflow-x:hidden;}

body {
  background: linear-gradient(to bottom right, rgba(0,0,0,0.3), rgba(0,0,0,0.5)),
  url("https://images.unsplash.com/photo-1634055980590-1a44e5a8b3e4?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0")
  center/cover no-repeat;
  display:flex;
  justify-content:center;
  align-items:center;
}

.card {
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(12px);
  border-radius: 20px;
  width: 90%;
  max-width: 460px;
  padding: 30px 25px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.2);
  text-align: center;
  position: relative;
  opacity:0;
  transform: translateY(30px);
  animation: cardEnter 0.8s forwards;
}

@keyframes cardEnter {
  to {opacity:1; transform: translateY(0);}
}

h1 {margin-bottom:12px; font-size:1.7rem; color:#333;}
p {margin-bottom:18px; font-size:1rem; line-height:1.5; color:#555;}

input {
  width:100%;
  padding:12px 14px;
  font-size:0.95rem;
  border-radius:10px;
  border:1px solid #ddd;
  margin-bottom:14px;
}

button {
  padding:11px 24px;
  margin:6px;
  border:none;
  border-radius:25px;
  cursor:pointer;
  font-size:0.95rem;
  transition:0.25s;
}

button:hover {
  transform: translateY(-3px);
  box-shadow:0 8px 18px rgba(0,0,0,0.12);
}

.yes {background:#4caf50; color:white;}
.no {background:#f44336; color:white;}
.alt {background:#2196f3; color:white;}

.hidden {display:none;}
.fadeIn {animation: fadeIn 0.6s forwards;}
@keyframes fadeIn {from {opacity:0;} to {opacity:1;}}

.heart {
  position:absolute;
  font-size:1.5rem;
  animation: floatUp 2s forwards;
  pointer-events:none;
  z-index:10;
}
@keyframes floatUp {
  0% {opacity:1; transform:translateY(0) scale(1);}
  100% {opacity:0; transform:translateY(-120px) scale(1.5);}
}
</style>
</head>

<body>

<div class="card" id="card">

  <!-- Step 1 -->
  <div id="step1">
    <h1>Heyyy ðŸ‘‹</h1>
    <p>Just random thoughtâ€¦ are you really interested in me? cause i'm clueless asfkðŸ‘€ Click <strong>Yes</strong> if you agree.</p>
    <button class="yes" onclick="nextStep(1); celebrateYes()">Yes</button>
    <button class="no dodge" onclick="showNo()">No</button>
  </div>

  <!-- Step 2 -->
  <div id="step2" class="hidden">
    <h1>Wait ðŸ˜³</h1>
    <p>Are you sure?</p>
    <button class="yes" onclick="nextStep(2); celebrateYes()">Yes</button>
    <button class="no dodge" onclick="showNo()">No</button>
  </div>

  <!-- Step 3 -->
  <div id="step3" class="hidden">
    <h1>Really?? ðŸ‘€</h1>
    <p>Are you <em>really</em> sure?</p>
    <button class="yes" onclick="nextStep(3); celebrateYes()">Yes</button>
    <button class="no dodge">No</button>
  </div>

  <!-- Step 4 -->
  <div id="step4" class="hidden">
    <h1>Okay then ðŸ˜„</h1>
    <p>Would you like to go out and watch a movie with me? Nothing grandâ€”just a simple movie, then eat out and gala and idkkk.</p>
    <button class="yes" onclick="nextStep(4); celebrateYes()">Yes</button>
    <button class="no dodge" onclick="showNo()">No</button>
  </div>

  <!-- Step 5: Weekend / Valentine -->
  <div id="step5" class="hidden">
    <h1>Last question ðŸŽ¬</h1>
    <p>Are you available this weekend or next weekend?</p>
    <button class="yes" onclick="pickChoice('This weekend')">This Weekend</button>
    <button class="yes" onclick="pickChoice('Next weekend')">Next Weekend</button>
    <button class="yes" onclick="pickChoice('Next next week')">Next next week</button>
    <button class="yes" onclick="pickChoice('Be my Valentine ðŸ’˜')">ORâ€¦ Just be my Valentine ðŸ’˜</button>
  </div>

  <!-- Step 6: Email -->
<div id="step6" class="hidden">
  <h1>One last thing âœ¨</h1>
  <p>Can I have your email? Iâ€™ll send a little receipt/confirmation ðŸ’Œ</p>
  <input type="email" id="email" placeholder="your@email.com" />
  <div style="display:flex; justify-content:center; gap:12px; flex-wrap:wrap;">
    <button class="alt" onclick="submitEmail()">Submit</button>
    <button class="no" onclick="submitNoEmail()">This is the button that politely declines on everything</button>
  </div>
  <p style="font-size:0.8rem;opacity:0.8;">Sender: patrickmueden11@gmail.com</p>
</div>


  <!-- Step 7: Thanks -->
  <div id="stepThanks" class="hidden">
    <h1>Thank you ðŸ’–</h1>
    <p>Thank you for accepting my invitation. I really appreciate it.</p>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
emailjs.init("LPL0NS_Ijw-ORStji");

let chosenWeekend = '';

function nextStep(n){
  document.getElementById('step'+n).classList.add('hidden');
  document.getElementById('step'+(n+1)).classList.remove('hidden');
}

function pickChoice(choice){
  chosenWeekend = choice;
  document.getElementById('step5').classList.add('hidden');
  document.getElementById('step6').classList.remove('hidden');
  celebrateYes();
}

function submitEmail(){
  const email = document.getElementById('email').value;
  if(!email) return alert("Please enter an email ðŸ˜Š");

  // Custom message for Valentine
  let customMessage = '';
  if(chosenWeekend.includes('Valentine')){
    customMessage = `
Hi ðŸ’–,

I didnâ€™t really plan this perfectly,
but I meant it sincerely.

I chose to ask you something simple:
to be my Valentine ðŸŒ¹

No pressure, no expectations â€”
just a sweet moment, shared willingly.

Happy Valentineâ€™s ðŸ’˜
â€“ Patrick
`;
  } else {
    customMessage = `They said yes ðŸ˜Š\nChoice: ${chosenWeekend}`;
  }

  emailjs.send(
    "service_pat2joemama",
    "template_f0pzx8b",
    {
      to_email: email,
      weekend: chosenWeekend,
      message: customMessage
    }
  ).then(()=>{
    document.getElementById('step6').classList.add('hidden');
    document.getElementById('stepThanks').classList.remove('hidden');
  }).catch(err=>{
    console.log(err);
    alert("Email failed ðŸ˜¢");
  });
}

function celebrateYes(){
  for(let i=0;i<5;i++){
    const h=document.createElement('div');
    h.className='heart';
    h.textContent='â¤ï¸';
    h.style.left=Math.random()*100+'%';
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),2000);
  }
}
function submitNoEmail(){
  const email = document.getElementById('email')?.value.trim() || "No email provided";

  emailjs.send(
    "service_pat2joemama",
    "template_f0pzx8b",
    {
      to_email: "patrickmueden11@gmail.com",
      weekend: "Declined: " + chosenWeekend + " | Visitor email: " + email
    }
  )
  .then(()=> {
    ['step1','step2','step3','step4','step5','step6'].forEach(id=>{
      const el = document.getElementById(id);
      if(el) el.classList.add('hidden');
    });
    const feedback = document.getElementById('stepFeedback');
    feedback.classList.remove('hidden');
    feedback.classList.add('fadeIn');
  })
  .catch(err => {
    console.log(err);
    alert("Email failed âŒ Check console.");
  });
}

// Optional: No dodge function if you want the â€œNoâ€ buttons to move
function makeDodging(btn) {
  const card = document.getElementById('card');
  const maxX = card.clientWidth - btn.offsetWidth - 20;
  const maxY = card.clientHeight - btn.offsetHeight - 20;
  const dodge = () => {
    btn.style.position = 'absolute';
    btn.style.left = Math.random()*maxX+'px';
    btn.style.top = Math.random()*maxY+'px';
  };
  const startDodge = (e)=>{ e.preventDefault(); dodge(); };
  btn.addEventListener('pointerover', startDodge);
  btn.addEventListener('touchstart', startDodge);
}
document.querySelectorAll('button.no.dodge').forEach(makeDodging);
</script>

</body>
</html>
