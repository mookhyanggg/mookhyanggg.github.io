<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Heyyy üëÄ</title>

<style>
/* RESET */
* {box-sizing:border-box; margin:0; padding:0; font-family: 'Segoe UI', sans-serif;}
body, html {height:100%; width:100%; overflow-x:hidden;}

/* CINEMATIC GRADIENT + BACKGROUND IMAGE */
body {
  background: linear-gradient(to bottom right, rgba(0,0,0,0.3), rgba(0,0,0,0.5)), url("https://images.unsplash.com/photo-1634055980590-1a44e5a8b3e4?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0") center/cover no-repeat;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* GLASS CARD */
.card {
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(12px);
  border-radius: 20px;
  width: 90%;
  max-width: 460px;
  padding: 30px 25px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.2);
  text-align: center;
  position: relative;
  opacity:0;
  transform: translateY(30px);
  animation: cardEnter 0.8s forwards;
}

@keyframes cardEnter {
  to {opacity:1; transform: translateY(0);}
}

/* HEADINGS & TEXT */
h1 {margin-bottom:12px; font-size:1.7rem; color:#333;}
p {margin-bottom:18px; font-size:1rem; line-height:1.5; color:#555;}

/* INPUT */
input {
  width:100%;
  padding:12px 14px;
  font-size:0.95rem;
  border-radius:10px;
  border:1px solid #ddd;
  margin-bottom:14px;
}

/* BUTTONS */
button {
  padding:11px 24px;
  margin:6px;
  border:none;
  border-radius:25px;
  cursor:pointer;
  font-size:0.95rem;
  transition:0.25s;
}

button:hover {transform: translateY(-3px); box-shadow:0 8px 18px rgba(0,0,0,0.12);}
.yes {background:#4caf50; color:white;}
.no {background:#f44336; color:white;}
.alt {background:#2196f3; color:white;}
.links button{width:100%; display:block; margin:6px 0;}

/* HIDDEN */
.hidden {display:none;}

/* FADE ANIMATION BETWEEN STEPS */
.fadeIn {animation: fadeIn 0.6s forwards;}
@keyframes fadeIn {from {opacity:0;} to {opacity:1;}}

/* CONFETTI HEARTS */
.heart {
  position:absolute;
  font-size:1.5rem;
  animation: floatUp 2s forwards;
  pointer-events:none;
  z-index:10;
}
@keyframes floatUp {
  0% {opacity:1; transform:translateY(0) scale(1);}
  100% {opacity:0; transform:translateY(-120px) scale(1.5);}
}

/* MOBILE / IPAD RESPONSIVE */
@media(max-width:768px){
  .card {padding:25px 20px;}
  h1 {font-size:1.5rem;}
  p {font-size:0.95rem;}
  button {padding:10px 20px;}
}
</style>
</head>

<body>
<div class="card" id="card">

  <!-- Step 1 -->
  <div id="step1">
    <h1>Heyyy üëã</h1>
    <p>Just random thought‚Ä¶ are you really interested in me? cause i'm clueless asfküëÄ Click <strong>Yes</strong> if you agree.</p>
    <button class="yes" onclick="nextStep(1); celebrateYes()">Yes</button>
    <button class="no dodge" onclick="showNo()">No</button>
  </div>

  <!-- Step 2 -->
  <div id="step2" class="hidden">
    <h1>Wait üò≥</h1>
    <p>Are you sure?</p>
    <button class="yes" onclick="nextStep(2); celebrateYes()">Yes</button>
    <button class="no dodge" onclick="showNo()">No</button>
  </div>

  <!-- Step 3 -->
  <div id="step3" class="hidden">
    <h1>Really?? üëÄ</h1>
    <p>Are you <em>really</em> sure?</p>
    <button class="yes" onclick="nextStep(3); celebrateYes()">Yes</button>
    <button class="no dodge">No</button>
  </div>

  <!-- Step 4 -->
  <div id="step4" class="hidden">
    <h1>Okay then üòÑ</h1>
    <p>Would you like to go out and watch a movie with me?</p>
    <button class="yes" onclick="nextStep(4); celebrateYes()">Yes</button>
    <button class="no dodge" onclick="showNo()">No</button>
  </div>

  <!-- Step 5 -->
  <div id="step5" class="hidden">
    <h1>Last question üé¨</h1>
    <p>Are you available this weekend or next weekend?</p>
    <button class="yes" onclick="pickWeekend('This weekend'); celebrateYes()">This Weekend</button>
    <button class="yes" onclick="pickWeekend('Next weekend'); celebrateYes()">Next Weekend</button>
  </div>

  <!-- Step 6 -->
  <div id="step6" class="hidden">
  <h1>One last thing ‚ú®</h1>
  <p>Can I have your email? I‚Äôll send a little receipt/confirmation üíå</p>
  <input type="email" id="email" placeholder="your@email.com" />
  <div style="display:flex; justify-content:center; gap:12px; flex-wrap:wrap;">
    <button class="alt" onclick="submitEmail()">Submit</button>
    <button class="no" onclick="submitNoEmail()">This is the button that politely declines on everything</button>
  </div>
  <p style="font-size:0.8rem;opacity:0.8;">Sender: patrickmueden11@gmail.com</p>
  </div>


  <!-- Thank you -->
  <div id="stepThanks" class="hidden">
    <h1>Thank you üíñ</h1>
    <p>Thank you for accepting my invitation. I really appreciate it.</p>
    <div class="links">
      <button class="alt" onclick="openMessenger()">Open Messenger</button>
      <button class="alt" onclick="openIG()">Open Instagram</button>
      <button class="alt" onclick="openSMS()">Open SMS</button>
    </div>
  </div>

  <!-- No response -->
  <div id="stepNo" class="hidden">
    <h1>All good üôÇ</h1>
    <p>No worries at all. Thanks for being honest.</p>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
emailjs.init("LPL0NS_Ijw-ORStji");
</script>

<script>
let chosenWeekend='';

function nextStep(current){
  document.getElementById('step'+current).classList.add('hidden');
  const next = document.getElementById('step'+(current+1));
  next.classList.remove('hidden');
  next.classList.add('fadeIn');
}

function showNo(){
  ['step1','step2','step3','step4','step5','step6'].forEach(id=>{
    const el=document.getElementById(id);
    if(el) el.classList.add('hidden');
  });
  document.getElementById('stepNo').classList.remove('hidden');
}

document.addEventListener('mouseover',(e)=>{
  if(e.target.classList.contains('dodge')){
    const btn=e.target;
    const card=document.getElementById('card');
    const maxX=card.clientWidth-btn.offsetWidth-20;
    const maxY=card.clientHeight-btn.offsetHeight-20;
    btn.style.position='absolute';
    btn.style.left=Math.random()*maxX+'px';
    btn.style.top=Math.random()*maxY+'px';
  }
});

function pickWeekend(choice){
  chosenWeekend=choice;
  document.getElementById('step5').classList.add('hidden');
  const next = document.getElementById('step6');
  next.classList.remove('hidden');
  next.classList.add('fadeIn');
}

/* EMAILJS SEND FUNCTION */
function submitEmail(){
  const email=document.getElementById('email').value;
  if(!email) return alert('Please enter an email üòä');

  emailjs.send(
    "service_pat2joemama",
    "template_f0pzx8b",
    {to_email: email, weekend: chosenWeekend}
  )
  .then(()=> {
    document.getElementById('step6').classList.add('hidden');
    const thanks = document.getElementById('stepThanks');
    thanks.classList.remove('hidden');
    thanks.classList.add('fadeIn');
  })
  .catch(err => {
    console.log(err);
    alert("Email failed üò¢ Check console.");
  });
}

/* OPEN LINKS */
const msg=()=>encodeURIComponent(`Hey! I said yes üòä Weekend: ${chosenWeekend}`);
function openMessenger(){window.open('https://m.me/?text='+msg(),'_blank');}
function openIG(){window.open('https://www.instagram.com/direct/new/?text='+msg(),'_blank');}
function openSMS(){window.open('sms:?&body='+msg(),'_self');}

/* üéâ CONFETTI HEARTS */
function celebrateYes(){
  for(let i=0;i<5;i++){
    const heart=document.createElement('div');
    heart.classList.add('heart');
    heart.style.left=Math.random()*100+'%';
    heart.style.color='red';
    heart.textContent='‚ù§Ô∏è';
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),2000);
  }
}

  function submitNoEmail(){
  const email = document.getElementById('email')?.value.trim() || "No email provided";

  // Send email to you notifying the decline
  emailjs.send(
    "service_pat2joemama",
    "template_f0pzx8b",
    {
      to_email: "patrickmueden11@gmail.com", // YOU receive the "decline"
      weekend: "Declined: " + chosenWeekend + " | Visitor email: " + email
    }
  )
  .then(()=> {
    // Show No response screen
    ['step1','step2','step3','step4','step5','step6'].forEach(id=>{
      const el = document.getElementById(id);
      if(el) el.classList.add('hidden');
    });
    const noScreen = document.getElementById('stepNo');
    noScreen.classList.remove('hidden');
    noScreen.classList.add('fadeIn');
  })
  .catch(err => {
    console.log(err);
    alert("Email failed ‚ùå Check console.");
  });
}

</script>
</body>
</html>
